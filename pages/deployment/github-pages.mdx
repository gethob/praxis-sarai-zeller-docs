# Deploy to GitHub Pages

Deploy the Praxis Sarai Zeller website to GitHub Pages with automatic CI/CD using GitHub Actions.

## Prerequisites

- GitHub account
- Repository with the site code
- Push access to the repository

## Deployment Steps

### 1. Push Code to GitHub

```bash
# Initialize git repository (if not already done)
git init

# Add files
git add .

# Commit
git commit -m "Initial commit: Praxis Sarai Zeller website"

# Add remote
git remote add origin https://github.com/YOUR-USERNAME/praxis-sarai-zeller.git

# Push to main branch
git push -u origin main
```

### 2. Enable GitHub Pages

1. Go to your repository on GitHub
2. Navigate to **Settings** â†’ **Pages**
3. Under "Build and deployment":
   - **Source**: Select "GitHub Actions"
4. Save the settings

### 3. GitHub Actions Workflow

The repository includes a GitHub Actions workflow at `.github/workflows/deploy.yml` that automatically:

1. Installs dependencies
2. Builds the project
3. Deploys to GitHub Pages

The workflow is triggered on:
- Push to `main` branch
- Manual trigger via GitHub UI

### 4. Verify Deployment

After pushing to `main`, the workflow will run automatically:

1. Go to **Actions** tab in your repository
2. Watch the deployment progress
3. Once complete, your site will be live at:
   - `https://YOUR-USERNAME.github.io/praxis-sarai-zeller/`

## GitHub Actions Workflow

The deployment workflow (`.github/workflows/deploy.yml`):

```yaml
name: Deploy to GitHub Pages

on:
  push:
    branches:
      - main
  workflow_dispatch:

permissions:
  contents: read
  pages: write
  id-token: write

jobs:
  build:
    runs-on: ubuntu-latest
    steps:
      - name: Checkout
        uses: actions/checkout@v4

      - name: Setup Node
        uses: actions/setup-node@v4
        with:
          node-version: '20'
          cache: 'npm'

      - name: Install dependencies
        run: npm ci

      - name: Build
        run: npm run build

      - name: Upload artifact
        uses: actions/upload-pages-artifact@v3
        with:
          path: ./dist

  deploy:
    needs: build
    runs-on: ubuntu-latest
    steps:
      - name: Deploy to GitHub Pages
        uses: actions/deploy-pages@v4
```

## Configuration for GitHub Pages

### Vite Configuration

The `vite.config.js` is configured for GitHub Pages:

```javascript
export default defineConfig({
  plugins: [vue()],
  base: '/', // Change to '/repo-name/' if using project pages
  build: {
    outDir: 'dist',
    target: 'esnext'
  }
})
```

### Base Path

**User/Organization Pages** (username.github.io):
```javascript
base: '/'
```

**Project Pages** (username.github.io/project-name):
```javascript
base: '/project-name/'
```

### .nojekyll File

The `public/.nojekyll` file ensures GitHub Pages doesn't process files with Jekyll:

```bash
# This file is already in public/.nojekyll
# Prevents Jekyll processing
```

## Manual Deployment

If you prefer manual deployment:

```bash
# Build the project
npm run build

# The dist/ folder is ready for deployment
# You can manually upload or use gh-pages
npm install -g gh-pages
gh-pages -d dist
```

## Troubleshooting

### 404 Errors

If you get 404 errors:

1. **Check base path**: Ensure `vite.config.js` base matches your URL
2. **Verify router mode**: Using `createWebHistory` (correct)
3. **Check .nojekyll**: File exists in `public/` folder

### Blank Page

If you see a blank page:

1. **Open browser console**: Check for errors
2. **Verify base path**: Must match your deployment URL
3. **Check build output**: Ensure `dist/` folder has files

### Workflow Failures

If the GitHub Actions workflow fails:

1. **Check Actions tab**: View error logs
2. **Verify permissions**: Ensure workflow has Pages write permission
3. **Check Node version**: Using Node 18+ in workflow

### Asset Loading Issues

If CSS/JS files don't load:

1. **Check base path**: Must be correct for your deployment
2. **Inspect HTML**: View source and check asset paths
3. **Clear cache**: Hard refresh browser (Cmd+Shift+R or Ctrl+Shift+R)

## Updating the Site

To update your deployed site:

```bash
# Make changes to your code
git add .
git commit -m "Update: description of changes"
git push origin main

# GitHub Actions automatically rebuilds and deploys
```

The site will be updated within 2-3 minutes.

## Deployment URL

Your site will be available at:

- **User/Org pages**: `https://username.github.io/`
- **Project pages**: `https://username.github.io/repository-name/`

To use a custom domain, see [Custom Domain Setup](/deployment/custom-domain).

## Performance Tips

### Enable Caching

GitHub Pages automatically caches static assets. To force cache refresh:

```bash
# Users can hard refresh: Cmd+Shift+R or Ctrl+Shift+R
```

### Optimize Build

Ensure optimal build settings:

```javascript
// vite.config.js
build: {
  minify: 'terser',
  cssCodeSplit: true,
  rollupOptions: {
    output: {
      manualChunks: {
        'vue-vendor': ['vue', 'vue-router']
      }
    }
  }
}
```

## Next Steps

- [Set up custom domain](/deployment/custom-domain)
- [Optimize build configuration](/deployment/build-optimization)
- [Monitor site performance](/guides/performance)
